<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ARCHEO AI</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#1c130c;--card:#2b1f14;--soft:#3a2a1b;--accent:#e6c27a;--text:#f6f2ea;--muted:#b9ad9a;}
body.light{--bg:#f4efe6;--card:#ffffff;--soft:#e5dccf;--text:#2a1f15;--muted:#6a5a48;}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,sans-serif;background:var(--bg);color:var(--text);transition:.4s;}
header{display:flex;align-items:center;gap:16px;padding:16px 20px;position:sticky;top:0;background:rgba(0,0,0,.45);backdrop-filter:blur(12px);z-index:10;}
h1{font-family:Playfair Display,serif;color:var(--accent);font-size:22px;}
nav a{margin-right:14px;cursor:pointer;color:var(--muted);}
nav a.active{color:var(--accent);}
.search{flex:1;}
.search input{width:100%;padding:8px 12px;border-radius:10px;border:none;background:var(--soft);color:var(--text);}
.page{display:none;animation:fade .5s ease;}
.page.active{display:block;}
@keyframes fade{from{opacity:0;transform:translateY(25px);}to{opacity:1}}
.feed{max-width:1200px;margin:30px auto;columns:3;column-gap:20px;}
.post{break-inside:avoid;background:var(--card);border-radius:18px;padding:14px;margin-bottom:20px;animation:pop .4s ease;box-shadow:0 2px 10px rgba(0,0,0,0.25);}
@keyframes pop{from{opacity:0;transform:scale(.95);}to{opacity:1}}
.post img{width:100%;border-radius:14px;}
.post p{color:var(--muted);font-size:14px;margin:10px 0;}
.ai-box{background:var(--soft);border-radius:12px;padding:10px;margin:8px 0;font-size:13px;display:flex;justify-content:space-between;align-items:center;}
.like-box{display:flex;justify-content:space-between;align-items:center;margin-top:6px;}
.like-box button{padding:6px 12px;border-radius:12px;border:none;background:var(--accent);color:#2a1f15;cursor:pointer;}
.card{max-width:800px;margin:40px auto;background:var(--card);border-radius:22px;padding:28px;}
textarea,input{width:100%;padding:12px;border-radius:12px;border:none;background:var(--soft);color:var(--text);}
button{margin-top:16px;padding:12px;border-radius:14px;border:none;background:var(--accent);color:#2a1f15;font-weight:600;cursor:pointer;}
.drop{border:2px dashed var(--accent);border-radius:18px;padding:40px;text-align:center;cursor:pointer;}
.preview{margin-top:16px;}
.preview img{width:100%;border-radius:16px;}
.profile{display:grid;grid-template-columns:240px 1fr;gap:24px;}
.avatar{width:120px;height:120px;border-radius:50%;background:var(--soft);margin-bottom:10px;}
.stats{display:flex;gap:12px;margin-top:10px;}
.stat{background:var(--soft);padding:10px;border-radius:12px;text-align:center;flex:1;}
.opt{padding:10px 16px;border-radius:12px;background:var(--soft);cursor:pointer;}
.opt.active{background:var(--accent);color:#2a1f15;}
.row{display:flex;gap:12px;flex-wrap:wrap;}
@media(max-width:900px){.feed{columns:2}}
@media(max-width:600px){.feed{columns:1}.profile{grid-template-columns:1fr}}
</style>
</head>
<body>

<header>
<h1>ARCHEO AI</h1>
<nav>
<a data-tab="feed" class="active" data-i="feed"></a>
<a data-tab="upload" data-i="upload"></a>
<a data-tab="profile" data-i="profile"></a>
<a data-tab="settings" data-i="settings"></a>
</nav>
<div class="search">
<input id="search" data-i-ph="search">
</div>
</header>

<section id="feed" class="page active">
<div class="feed" id="feedBox"></div>
</section>

<section id="upload" class="page">
<div class="card">
<h2 data-i="add"></h2>
<div class="drop" id="drop">Drop image here</div>
<div class="preview" id="preview"></div>
<textarea id="desc" data-i-ph="desc"></textarea>
<button onclick="publish()" data-i="publish"></button>
</div>
</section>

<section id="profile" class="page">
<div class="card profile">
<div>
<div class="avatar"></div>
<h3 id="uName">Explorer</h3>
<div class="stats">
<div class="stat"><b id="uPosts">0</b><br><span data-i="finds"></span></div>
<div class="stat"><b id="uRate">0</b><br><span data-i="rating"></span></div>
</div>
</div>
<div id="myPosts"></div>
</div>
</section>

<section id="settings" class="page">
<div class="card">
<h2 data-i="settings"></h2>
<h4 data-i="lang"></h4>
<div class="row" id="langs"></div>
<h4 data-i="theme"></h4>
<div class="row">
<div class="opt" onclick="setTheme('dark')">Dark</div>
<div class="opt" onclick="setTheme('light')">Light</div>
</div>
</div>
</section>

<script>
let posts=[],rating=0,fileData=null;

/* LANGUAGES */
const T={
ru:{feed:"Лента",upload:"Добавить",profile:"Профиль",settings:"Настройки",add:"Добавить находку",publish:"Опубликовать",search:"Поиск",desc:"Описание",finds:"Находки",rating:"Рейтинг",lang:"Язык",theme:"Тема"},
en:{feed:"Feed",upload:"Upload",profile:"Profile",settings:"Settings",add:"Add find",publish:"Publish",search:"Search",desc:"Description",finds:"Finds",rating:"Rating",lang:"Language",theme:"Theme"},
zh:{feed:"发现",upload:"上传",profile:"个人",settings:"设置",add:"添加发现",publish:"发布",search:"搜索",desc:"描述",finds:"发现",rating:"评分",lang:"语言",theme:"主题"},
kz:{feed:"Лента",upload:"Қосу",profile:"Профиль",settings:"Баптау",add:"Табыс қосу",publish:"Жариялау",search:"Іздеу",desc:"Сипаттама",finds:"Табыс",rating:"Рейтинг",lang:"Тіл",theme:"Тақырып"}
};
let lang=localStorage.lang||"ru";
function applyLang(){
document.querySelectorAll("[data-i]").forEach(e=>e.textContent=T[lang][e.dataset.i]);
document.querySelectorAll("[data-i-ph]").forEach(e=>e.placeholder=T[lang][e.dataset.iPh]);
}
const langsBox=document.getElementById("langs");
["ru","en","zh","kz"].forEach(l=>{
  const b=document.createElement("div");
  b.className="opt"+(l===lang?" active":"");
  b.textContent=l.toUpperCase();
  b.onclick=()=>{lang=l;localStorage.lang=l;applyLang();langsBox.querySelectorAll(".opt").forEach(x=>x.classList.remove("active"));b.classList.add("active");};
  langsBox.appendChild(b);
});

/* NAVIGATION */
document.querySelectorAll("nav a").forEach(a=>{
  a.onclick=()=>{document.querySelectorAll("nav a").forEach(x=>x.classList.remove("active"));a.classList.add("active");document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));document.getElementById(a.dataset.tab).classList.add("active");}
});

/* UPLOAD */
const drop=document.getElementById("drop");
drop.onclick=()=>file.click();
const file=document.createElement("input");
file.type="file";
file.onchange=e=>{fileData=URL.createObjectURL(e.target.files[0]);preview.innerHTML=`<img src="${fileData}">`;};

/* AI ANALYSIS DEMO */
function aiAnalyse(){
  const mats=["Clay","Stone","Bronze","Iron"];
  const eras=["Neolithic","Bronze Age","Iron Age","Medieval"];
  return {material:mats[Math.random()*mats.length|0],era:eras[Math.random()*eras.length|0],confidence:Math.floor(80+Math.random()*20)};
}

/* PUBLISH POST */
function publish(){
  if(!fileData) return alert("Image required");
  const ai=aiAnalyse();
  const post={img:fileData,text:desc.value,ai,likes:0};
  posts.unshift(post);
  rating+=10;
  renderFeed();
  renderProfile();
  desc.value=""; preview.innerHTML=""; fileData=null;
}

/* RENDER FEED */
function renderFeed(){
  feedBox.innerHTML="";
  posts.forEach((p,i)=>{
    feedBox.innerHTML+=`
    <div class="post">
      <img src="${p.img}">
      <p>${p.text}</p>
      <div class="ai-box">
        <div>AI: ${p.ai.material}, ${p.ai.era}</div>
        <div>Confidence: ${p.ai.confidence}%</div>
      </div>
      <div class="like-box">
        <div>Rating: ${p.likes}</div>
        <button onclick="likePost(${i})">Like</button>
      </div>
    </div>`;
  });
}

/* LIKE POST */
function likePost(i){posts[i].likes++; rating++; renderFeed(); renderProfile();}

/* PROFILE */
function renderProfile(){
  uPosts.textContent=posts.length;
  uRate.textContent=rating;
  myPosts.innerHTML="";
  posts.forEach(p=>{myPosts.innerHTML+=`<div class="post"><img src="${p.img}"><p>${p.text}</p></div>`;});
}

/* THEME */
function setTheme(t){document.body.className=t==="light"?"light":"";localStorage.theme=t;}
if(localStorage.theme==="light")setTheme("light");
applyLang();
</script>
</body>
</html>
